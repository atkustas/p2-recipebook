{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/atkus/Documents/Revature/p2-recipebook/Project2-Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../navbar/navbar.component\";\nimport * as i2 from \"@angular/forms\";\nexport class RegistrationComponent {\n  constructor() {\n    this.url = \"http://localhost:8090/\";\n    this.i = null;\n    this.allTickets = [this.i]; //document.getElementById(\"empsubForm\").addEventListener(\"click\", newTicket);\n\n    this.type_id = 0;\n    this.amount = 0; //document.getElementById(\"EmpFormControlInputAmt\").value;\n\n    this.timeSubmitted = \"10/11/2021\"; //edit current date function\n\n    this.type = \"\"; //document.getElementById(\"exampleFormControlSelect1\").value;\n\n    this.desc = \"\"; //document.getElementById(\"EmpFormControlTextarea1\").value;\n  }\n\n  ngOnInit() {} //add ticket function\n\n\n  newTicket() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(\"inside the newTicket async\"); //console.log(\"This is the userOb: \" + userOb);\n      //populate form with userOb data (first/last name), user_id (regular employee is signed it at this point)\n      //remember to use timestamp function to set re_submitted --- \"timestamp = new Date();\"\n      //this will be where the JS reads the ticket parameters from the form inputs\n      //document.getElement....value for each ticket.parameter\n      //need to have all the parameters set for the server to accept the ticket\n\n      if (_this.type == \"Business\") {\n        _this.type_id = 1;\n      } else if (_this.type = \"Travel\") {\n        _this.type_id = 2;\n      } else if (_this.type = \"Medical\") {\n        _this.type_id = 3;\n      } else {\n        _this.type_id = 4;\n      } // let type_id_ob = {\n      //     re_type: type,\n      //     re_type_id: type_id\n      // };\n\n\n      let status_id_ob = {\n        re_status: \"Pending\",\n        re_status_id: 3\n      };\n      let ticket = {\n        re_amount: _this.amount,\n        re_submitted: _this.timeSubmitted //     re_resolved: null,\n        //     re_desc: desc,\n        //     re_receipt: null,\n        //     re_author: userOb,\n        //     re_resolver: null,\n        //     re_status_id: status_id_ob,\n        //     re_type_id: type_id_ob\n\n      };\n      console.log(ticket);\n      console.log(\"sending request\");\n      let response = yield fetch(_this.url + \"newticket\", {\n        method: \"POST\",\n        mode: 'cors',\n        body: JSON.stringify(ticket),\n        credentials: \"include\"\n      });\n      console.log(\"request got back\");\n      console.log(response.status);\n\n      if (response.status === 201) {\n        console.log(\"New ticket submitted.\");\n        _this.amount = null; // document.getElementById(\"EmpFormControlInputAmt\").value = null;\n        // document.getElementById(\"EmpFormControlTextarea1\").value = null;\n        // //call function to disappear ticket form and show success message\n        // changeHideEmpForm()\n      }\n    })();\n  }\n\n}\n\nRegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) {\n  return new (t || RegistrationComponent)();\n};\n\nRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegistrationComponent,\n  selectors: [[\"app-registration\"]],\n  decls: 38,\n  vars: 0,\n  consts: [[1, \"vh-100\", \"bg-image\", 2, \"background-image\", \"url('https://mdbootstrap.com/img/Photos/new-templates/search-box/img4.jpg')\"], [1, \"mask\", \"d-flex\", \"align-items-center\", \"h-100\", \"gradient-custom-3\"], [1, \"container\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-12\", \"col-md-9\", \"col-lg-7\", \"col-xl-6\"], [1, \"card\", 2, \"border-radius\", \"15px\"], [1, \"card-body\", \"p-5\"], [1, \"text-uppercase\", \"text-center\", \"mb-5\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"text\", \"id\", \"form3Example1cg\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example1cg\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"form3Example3cg\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example3cg\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"form3Example4cg\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example4cg\", 1, \"form-label\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-block\", \"btn-lg\", \"gradient-custom-4\", \"text-body\"]],\n  template: function RegistrationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"section\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"h2\", 7);\n      i0.ɵɵtext(9, \"Create an account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"form\");\n      i0.ɵɵelementStart(11, \"div\", 8);\n      i0.ɵɵelement(12, \"input\", 9);\n      i0.ɵɵelementStart(13, \"label\", 10);\n      i0.ɵɵtext(14, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 8);\n      i0.ɵɵelement(16, \"input\", 9);\n      i0.ɵɵelementStart(17, \"label\", 10);\n      i0.ɵɵtext(18, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 8);\n      i0.ɵɵelement(20, \"input\", 11);\n      i0.ɵɵelementStart(21, \"label\", 12);\n      i0.ɵɵtext(22, \"Your Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 8);\n      i0.ɵɵelement(24, \"input\", 13);\n      i0.ɵɵelementStart(25, \"label\", 14);\n      i0.ɵɵtext(26, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 8);\n      i0.ɵɵelement(28, \"input\", 13);\n      i0.ɵɵelementStart(29, \"label\", 14);\n      i0.ɵɵtext(30, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 8);\n      i0.ɵɵelement(32, \"input\", 13);\n      i0.ɵɵelementStart(33, \"label\", 14);\n      i0.ɵɵtext(34, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 15);\n      i0.ɵɵelementStart(36, \"button\", 16);\n      i0.ɵɵtext(37, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  directives: [i1.NavbarComponent, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm],\n  styles: [\".MainConRegs[_ngcontent-%COMP%]{\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBIiwiZmlsZSI6InJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLk1haW5Db25SZWdze1xyXG5cclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"sources":["C:/Users/atkus/Documents/Revature/p2-recipebook/Project2-Frontend/src/app/components/registration/registration.component.ts"],"names":["i0","i1","i2","RegistrationComponent","constructor","url","i","allTickets","type_id","amount","timeSubmitted","type","desc","ngOnInit","newTicket","console","log","status_id_ob","re_status","re_status_id","ticket","re_amount","re_submitted","response","fetch","method","mode","body","JSON","stringify","credentials","status","ɵfac","RegistrationComponent_Factory","t","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","RegistrationComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","directives","NavbarComponent","ɵNgNoValidate","NgControlStatusGroup","NgForm","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../navbar/navbar.component\";\r\nimport * as i2 from \"@angular/forms\";\r\nexport class RegistrationComponent {\r\n    constructor() {\r\n        this.url = \"http://localhost:8090/\";\r\n        this.i = null;\r\n        this.allTickets = [this.i];\r\n        //document.getElementById(\"empsubForm\").addEventListener(\"click\", newTicket);\r\n        this.type_id = 0;\r\n        this.amount = 0; //document.getElementById(\"EmpFormControlInputAmt\").value;\r\n        this.timeSubmitted = \"10/11/2021\"; //edit current date function\r\n        this.type = \"\"; //document.getElementById(\"exampleFormControlSelect1\").value;\r\n        this.desc = \"\"; //document.getElementById(\"EmpFormControlTextarea1\").value;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    //add ticket function\r\n    async newTicket() {\r\n        console.log(\"inside the newTicket async\");\r\n        //console.log(\"This is the userOb: \" + userOb);\r\n        //populate form with userOb data (first/last name), user_id (regular employee is signed it at this point)\r\n        //remember to use timestamp function to set re_submitted --- \"timestamp = new Date();\"\r\n        //this will be where the JS reads the ticket parameters from the form inputs\r\n        //document.getElement....value for each ticket.parameter\r\n        //need to have all the parameters set for the server to accept the ticket\r\n        if (this.type == \"Business\") {\r\n            this.type_id = 1;\r\n        }\r\n        else if (this.type = \"Travel\") {\r\n            this.type_id = 2;\r\n        }\r\n        else if (this.type = \"Medical\") {\r\n            this.type_id = 3;\r\n        }\r\n        else {\r\n            this.type_id = 4;\r\n        }\r\n        // let type_id_ob = {\r\n        //     re_type: type,\r\n        //     re_type_id: type_id\r\n        // };\r\n        let status_id_ob = {\r\n            re_status: \"Pending\",\r\n            re_status_id: 3\r\n        };\r\n        let ticket = {\r\n            re_amount: this.amount,\r\n            re_submitted: this.timeSubmitted,\r\n            //     re_resolved: null,\r\n            //     re_desc: desc,\r\n            //     re_receipt: null,\r\n            //     re_author: userOb,\r\n            //     re_resolver: null,\r\n            //     re_status_id: status_id_ob,\r\n            //     re_type_id: type_id_ob\r\n        };\r\n        console.log(ticket);\r\n        console.log(\"sending request\");\r\n        let response = await fetch(this.url + \"newticket\", {\r\n            method: \"POST\",\r\n            mode: 'cors',\r\n            body: JSON.stringify(ticket),\r\n            credentials: \"include\"\r\n        });\r\n        console.log(\"request got back\");\r\n        console.log(response.status);\r\n        if (response.status === 201) {\r\n            console.log(\"New ticket submitted.\");\r\n            this.amount = null;\r\n            // document.getElementById(\"EmpFormControlInputAmt\").value = null;\r\n            // document.getElementById(\"EmpFormControlTextarea1\").value = null;\r\n            // //call function to disappear ticket form and show success message\r\n            // changeHideEmpForm()\r\n        }\r\n    }\r\n}\r\nRegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) { return new (t || RegistrationComponent)(); };\r\nRegistrationComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RegistrationComponent, selectors: [[\"app-registration\"]], decls: 38, vars: 0, consts: [[1, \"vh-100\", \"bg-image\", 2, \"background-image\", \"url('https://mdbootstrap.com/img/Photos/new-templates/search-box/img4.jpg')\"], [1, \"mask\", \"d-flex\", \"align-items-center\", \"h-100\", \"gradient-custom-3\"], [1, \"container\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-12\", \"col-md-9\", \"col-lg-7\", \"col-xl-6\"], [1, \"card\", 2, \"border-radius\", \"15px\"], [1, \"card-body\", \"p-5\"], [1, \"text-uppercase\", \"text-center\", \"mb-5\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"text\", \"id\", \"form3Example1cg\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example1cg\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"form3Example3cg\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example3cg\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"form3Example4cg\", 1, \"form-control\", \"form-control-lg\"], [\"for\", \"form3Example4cg\", 1, \"form-label\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-block\", \"btn-lg\", \"gradient-custom-4\", \"text-body\"]], template: function RegistrationComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelement(0, \"app-navbar\");\r\n        i0.ɵɵelementStart(1, \"section\", 0);\r\n        i0.ɵɵelementStart(2, \"div\", 1);\r\n        i0.ɵɵelementStart(3, \"div\", 2);\r\n        i0.ɵɵelementStart(4, \"div\", 3);\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵelementStart(6, \"div\", 5);\r\n        i0.ɵɵelementStart(7, \"div\", 6);\r\n        i0.ɵɵelementStart(8, \"h2\", 7);\r\n        i0.ɵɵtext(9, \"Create an account\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"form\");\r\n        i0.ɵɵelementStart(11, \"div\", 8);\r\n        i0.ɵɵelement(12, \"input\", 9);\r\n        i0.ɵɵelementStart(13, \"label\", 10);\r\n        i0.ɵɵtext(14, \"First Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"div\", 8);\r\n        i0.ɵɵelement(16, \"input\", 9);\r\n        i0.ɵɵelementStart(17, \"label\", 10);\r\n        i0.ɵɵtext(18, \"Last Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"div\", 8);\r\n        i0.ɵɵelement(20, \"input\", 11);\r\n        i0.ɵɵelementStart(21, \"label\", 12);\r\n        i0.ɵɵtext(22, \"Your Email\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"div\", 8);\r\n        i0.ɵɵelement(24, \"input\", 13);\r\n        i0.ɵɵelementStart(25, \"label\", 14);\r\n        i0.ɵɵtext(26, \"Age\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(27, \"div\", 8);\r\n        i0.ɵɵelement(28, \"input\", 13);\r\n        i0.ɵɵelementStart(29, \"label\", 14);\r\n        i0.ɵɵtext(30, \"Username\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(31, \"div\", 8);\r\n        i0.ɵɵelement(32, \"input\", 13);\r\n        i0.ɵɵelementStart(33, \"label\", 14);\r\n        i0.ɵɵtext(34, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(35, \"div\", 15);\r\n        i0.ɵɵelementStart(36, \"button\", 16);\r\n        i0.ɵɵtext(37, \"Register\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } }, directives: [i1.NavbarComponent, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm], styles: [\".MainConRegs[_ngcontent-%COMP%]{\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBIiwiZmlsZSI6InJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLk1haW5Db25SZWdze1xyXG5cclxufVxyXG4iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}