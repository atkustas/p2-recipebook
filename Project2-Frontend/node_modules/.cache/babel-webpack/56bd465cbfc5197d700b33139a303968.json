{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/atkus/Documents/Revature/p2-recipebook/Project2-Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class RegistrationComponent {\n  constructor() {\n    this.url = \"http://localhost:8090/\";\n    this.i = null;\n    this.allTickets = [this.i]; //document.getElementById(\"empsubForm\").addEventListener(\"click\", newTicket);\n\n    this.type_id = 0;\n    this.amount = 0; //document.getElementById(\"EmpFormControlInputAmt\").value;\n\n    this.timeSubmitted = \"10/11/2021\"; //edit current date function\n\n    this.type = \"\"; //document.getElementById(\"exampleFormControlSelect1\").value;\n\n    this.desc = \"\"; //document.getElementById(\"EmpFormControlTextarea1\").value;\n  }\n\n  ngOnInit() {} //add ticket function\n\n\n  newTicket() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(\"inside the newTicket async\"); //console.log(\"This is the userOb: \" + userOb);\n      //populate form with userOb data (first/last name), user_id (regular employee is signed it at this point)\n      //remember to use timestamp function to set re_submitted --- \"timestamp = new Date();\"\n      //this will be where the JS reads the ticket parameters from the form inputs\n      //document.getElement....value for each ticket.parameter\n      //need to have all the parameters set for the server to accept the ticket\n\n      if (_this.type == \"Business\") {\n        _this.type_id = 1;\n      } else if (_this.type = \"Travel\") {\n        _this.type_id = 2;\n      } else if (_this.type = \"Medical\") {\n        _this.type_id = 3;\n      } else {\n        _this.type_id = 4;\n      } // let type_id_ob = {\n      //     re_type: type,\n      //     re_type_id: type_id\n      // };\n\n\n      let status_id_ob = {\n        re_status: \"Pending\",\n        re_status_id: 3\n      };\n      let ticket = {\n        re_amount: _this.amount,\n        re_submitted: _this.timeSubmitted //     re_resolved: null,\n        //     re_desc: desc,\n        //     re_receipt: null,\n        //     re_author: userOb,\n        //     re_resolver: null,\n        //     re_status_id: status_id_ob,\n        //     re_type_id: type_id_ob\n\n      };\n      console.log(ticket);\n      console.log(\"sending request\");\n      let response = yield fetch(_this.url + \"newticket\", {\n        method: \"POST\",\n        mode: 'cors',\n        body: JSON.stringify(ticket),\n        credentials: \"include\"\n      });\n      console.log(\"request got back\");\n      console.log(response.status);\n\n      if (response.status === 201) {\n        console.log(\"New ticket submitted.\");\n        _this.amount = null; // document.getElementById(\"EmpFormControlInputAmt\").value = null;\n        // document.getElementById(\"EmpFormControlTextarea1\").value = null;\n        // //call function to disappear ticket form and show success message\n        // changeHideEmpForm()\n      }\n    })();\n  }\n\n}\n\nRegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) {\n  return new (t || RegistrationComponent)();\n};\n\nRegistrationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegistrationComponent,\n  selectors: [[\"app-registration\"]],\n  decls: 44,\n  vars: 1,\n  consts: [[\"id\", \"MainConRegs\", 1, \"container\", 2, \"color\", \"gold\"], [\"id\", \"EmpMasterForm\"], [\"id\", \"empupdateApp\", \"action\", \"#\", \"method\", \"post\", \"onsubmit\", \"newTicket();return false\", 1, \"empupdateForm\"], [\"id\", \"empform1\", 1, \"form-group\"], [\"for\", \"FormControlInputAmt\"], [\"type\", \"number\", \"name\", \"amount\", \"id\", \"EmpFormControlInputAmt\", \"placeholder\", \"($$)\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"empform2\", 1, \"form-group\"], [\"for\", \"FormControlFile1\"], [\"type\", \"file\", \"id\", \"EmpFormControlFile2\", 1, \"form-control-file\"], [\"id\", \"empform3\", 1, \"form-group\"], [\"for\", \"FormControlTextarea1\"], [\"id\", \"EmpFormControlTextarea1\", \"rows\", \"3\", 1, \"form-control\"], [\"id\", \"empform5\", 1, \"form-group\"], [\"for\", \"exampleFormControlSelect1\"], [\"id\", \"exampleFormControlSelect1\", 1, \"form-control\"], [\"id\", \"empsubForm\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function RegistrationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"form\", 2);\n      i0.ɵɵelementStart(3, \"div\");\n      i0.ɵɵelementStart(4, \"h3\");\n      i0.ɵɵtext(5, \"Reimbursement Form\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"p\");\n      i0.ɵɵtext(8, \"Enter the details of your Reimbursement Request using the form below. \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3);\n      i0.ɵɵelementStart(10, \"label\", 4);\n      i0.ɵɵtext(11, \"Amount ($)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"br\");\n      i0.ɵɵelementStart(13, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function RegistrationComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.amount = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 6);\n      i0.ɵɵelementStart(16, \"label\", 7);\n      i0.ɵɵtext(17, \"Upload Receipt\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelementStart(19, \"p\");\n      i0.ɵɵtext(20, \" (This is not required) \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"input\", 8);\n      i0.ɵɵelement(22, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 9);\n      i0.ɵɵelementStart(24, \"label\", 10);\n      i0.ɵɵtext(25, \"Enter a short description of your request.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"br\");\n      i0.ɵɵelement(27, \"textarea\", 11);\n      i0.ɵɵelement(28, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 12);\n      i0.ɵɵelementStart(30, \"label\", 13);\n      i0.ɵɵtext(31, \"Reimbursement Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"select\", 14);\n      i0.ɵɵelementStart(33, \"option\");\n      i0.ɵɵtext(34, \"Business\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"option\");\n      i0.ɵɵtext(36, \"Travel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"option\");\n      i0.ɵɵtext(38, \"Medical\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"option\");\n      i0.ɵɵtext(40, \"Other\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(41, \"br\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function RegistrationComponent_Template_button_click_42_listener() {\n        return ctx.newTicket();\n      });\n      i0.ɵɵtext(43, \"Submit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.amount);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.NgForm, i1.NumberValueAccessor, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgModel, i1.NgSelectOption, i1.ɵNgSelectMultipleOption],\n  styles: [\".MainConRegs[_ngcontent-%COMP%]{\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBIiwiZmlsZSI6InJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLk1haW5Db25SZWdze1xyXG5cclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"sources":["C:/Users/atkus/Documents/Revature/p2-recipebook/Project2-Frontend/src/app/components/registration/registration.component.ts"],"names":["i0","i1","RegistrationComponent","constructor","url","i","allTickets","type_id","amount","timeSubmitted","type","desc","ngOnInit","newTicket","console","log","status_id_ob","re_status","re_status_id","ticket","re_amount","re_submitted","response","fetch","method","mode","body","JSON","stringify","credentials","status","ɵfac","RegistrationComponent_Factory","t","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","RegistrationComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","RegistrationComponent_Template_input_ngModelChange_13_listener","$event","RegistrationComponent_Template_button_click_42_listener","ɵɵadvance","ɵɵproperty","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","NumberValueAccessor","DefaultValueAccessor","NgControlStatus","NgModel","NgSelectOption","ɵNgSelectMultipleOption","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nexport class RegistrationComponent {\r\n    constructor() {\r\n        this.url = \"http://localhost:8090/\";\r\n        this.i = null;\r\n        this.allTickets = [this.i];\r\n        //document.getElementById(\"empsubForm\").addEventListener(\"click\", newTicket);\r\n        this.type_id = 0;\r\n        this.amount = 0; //document.getElementById(\"EmpFormControlInputAmt\").value;\r\n        this.timeSubmitted = \"10/11/2021\"; //edit current date function\r\n        this.type = \"\"; //document.getElementById(\"exampleFormControlSelect1\").value;\r\n        this.desc = \"\"; //document.getElementById(\"EmpFormControlTextarea1\").value;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    //add ticket function\r\n    async newTicket() {\r\n        console.log(\"inside the newTicket async\");\r\n        //console.log(\"This is the userOb: \" + userOb);\r\n        //populate form with userOb data (first/last name), user_id (regular employee is signed it at this point)\r\n        //remember to use timestamp function to set re_submitted --- \"timestamp = new Date();\"\r\n        //this will be where the JS reads the ticket parameters from the form inputs\r\n        //document.getElement....value for each ticket.parameter\r\n        //need to have all the parameters set for the server to accept the ticket\r\n        if (this.type == \"Business\") {\r\n            this.type_id = 1;\r\n        }\r\n        else if (this.type = \"Travel\") {\r\n            this.type_id = 2;\r\n        }\r\n        else if (this.type = \"Medical\") {\r\n            this.type_id = 3;\r\n        }\r\n        else {\r\n            this.type_id = 4;\r\n        }\r\n        // let type_id_ob = {\r\n        //     re_type: type,\r\n        //     re_type_id: type_id\r\n        // };\r\n        let status_id_ob = {\r\n            re_status: \"Pending\",\r\n            re_status_id: 3\r\n        };\r\n        let ticket = {\r\n            re_amount: this.amount,\r\n            re_submitted: this.timeSubmitted,\r\n            //     re_resolved: null,\r\n            //     re_desc: desc,\r\n            //     re_receipt: null,\r\n            //     re_author: userOb,\r\n            //     re_resolver: null,\r\n            //     re_status_id: status_id_ob,\r\n            //     re_type_id: type_id_ob\r\n        };\r\n        console.log(ticket);\r\n        console.log(\"sending request\");\r\n        let response = await fetch(this.url + \"newticket\", {\r\n            method: \"POST\",\r\n            mode: 'cors',\r\n            body: JSON.stringify(ticket),\r\n            credentials: \"include\"\r\n        });\r\n        console.log(\"request got back\");\r\n        console.log(response.status);\r\n        if (response.status === 201) {\r\n            console.log(\"New ticket submitted.\");\r\n            this.amount = null;\r\n            // document.getElementById(\"EmpFormControlInputAmt\").value = null;\r\n            // document.getElementById(\"EmpFormControlTextarea1\").value = null;\r\n            // //call function to disappear ticket form and show success message\r\n            // changeHideEmpForm()\r\n        }\r\n    }\r\n}\r\nRegistrationComponent.ɵfac = function RegistrationComponent_Factory(t) { return new (t || RegistrationComponent)(); };\r\nRegistrationComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RegistrationComponent, selectors: [[\"app-registration\"]], decls: 44, vars: 1, consts: [[\"id\", \"MainConRegs\", 1, \"container\", 2, \"color\", \"gold\"], [\"id\", \"EmpMasterForm\"], [\"id\", \"empupdateApp\", \"action\", \"#\", \"method\", \"post\", \"onsubmit\", \"newTicket();return false\", 1, \"empupdateForm\"], [\"id\", \"empform1\", 1, \"form-group\"], [\"for\", \"FormControlInputAmt\"], [\"type\", \"number\", \"name\", \"amount\", \"id\", \"EmpFormControlInputAmt\", \"placeholder\", \"($$)\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"empform2\", 1, \"form-group\"], [\"for\", \"FormControlFile1\"], [\"type\", \"file\", \"id\", \"EmpFormControlFile2\", 1, \"form-control-file\"], [\"id\", \"empform3\", 1, \"form-group\"], [\"for\", \"FormControlTextarea1\"], [\"id\", \"EmpFormControlTextarea1\", \"rows\", \"3\", 1, \"form-control\"], [\"id\", \"empform5\", 1, \"form-group\"], [\"for\", \"exampleFormControlSelect1\"], [\"id\", \"exampleFormControlSelect1\", 1, \"form-control\"], [\"id\", \"empsubForm\", 1, \"btn\", \"btn-primary\", 3, \"click\"]], template: function RegistrationComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"form\", 2);\r\n        i0.ɵɵelementStart(3, \"div\");\r\n        i0.ɵɵelementStart(4, \"h3\");\r\n        i0.ɵɵtext(5, \"Reimbursement Form\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(6, \"br\");\r\n        i0.ɵɵelementStart(7, \"p\");\r\n        i0.ɵɵtext(8, \"Enter the details of your Reimbursement Request using the form below. \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 3);\r\n        i0.ɵɵelementStart(10, \"label\", 4);\r\n        i0.ɵɵtext(11, \"Amount ($)\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(12, \"br\");\r\n        i0.ɵɵelementStart(13, \"input\", 5);\r\n        i0.ɵɵlistener(\"ngModelChange\", function RegistrationComponent_Template_input_ngModelChange_13_listener($event) { return ctx.amount = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(14, \"br\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"div\", 6);\r\n        i0.ɵɵelementStart(16, \"label\", 7);\r\n        i0.ɵɵtext(17, \"Upload Receipt\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(18, \"br\");\r\n        i0.ɵɵelementStart(19, \"p\");\r\n        i0.ɵɵtext(20, \" (This is not required) \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(21, \"input\", 8);\r\n        i0.ɵɵelement(22, \"br\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"div\", 9);\r\n        i0.ɵɵelementStart(24, \"label\", 10);\r\n        i0.ɵɵtext(25, \"Enter a short description of your request.\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(26, \"br\");\r\n        i0.ɵɵelement(27, \"textarea\", 11);\r\n        i0.ɵɵelement(28, \"br\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"div\", 12);\r\n        i0.ɵɵelementStart(30, \"label\", 13);\r\n        i0.ɵɵtext(31, \"Reimbursement Type\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(32, \"select\", 14);\r\n        i0.ɵɵelementStart(33, \"option\");\r\n        i0.ɵɵtext(34, \"Business\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(35, \"option\");\r\n        i0.ɵɵtext(36, \"Travel\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(37, \"option\");\r\n        i0.ɵɵtext(38, \"Medical\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(39, \"option\");\r\n        i0.ɵɵtext(40, \"Other\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(41, \"br\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(42, \"button\", 15);\r\n        i0.ɵɵlistener(\"click\", function RegistrationComponent_Template_button_click_42_listener() { return ctx.newTicket(); });\r\n        i0.ɵɵtext(43, \"Submit\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(13);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.amount);\r\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.NgForm, i1.NumberValueAccessor, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgModel, i1.NgSelectOption, i1.ɵNgSelectMultipleOption], styles: [\".MainConRegs[_ngcontent-%COMP%]{\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBIiwiZmlsZSI6InJlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLk1haW5Db25SZWdze1xyXG5cclxufVxyXG4iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}